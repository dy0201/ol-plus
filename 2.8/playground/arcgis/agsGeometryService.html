<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
		<title>AgsGeometryService Control Sample</title>
		<script type="text/javascript" src="../../lib/Firebug/firebug.js"></script>
		<script type="text/javascript" src="../../lib/OpenLayers.js"></script>		
		<!-- ArcGIS Server JavaScript library -->
		<script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=1.3"></script>	
		<script type="text/javascript">			
			esriConfig.defaults.io.proxyUrl = "../../lib/OpenLayers/Util/ags-proxy.jsp";
        	esriConfig.defaults.io.alwaysUseProxy = false;			           	 	
		</script>				  
		<script type="text/javascript" src="agsGeometryService.js"></script>		
	</head>
    <body onload="init();">
    	<p>					
			Click 'Buffer' button to do buffer; dbl-click an existing point feature to create buffer polygon; 
			<br>Click 'Simplify': button to do simplify; dbl-click an existing feature to simplify; hold Ctrl key and draw a feature on map, when finished feature will be simplified;
			<br>Click 'Project' to project a feature to EPSG:900913: dbl-click an existing feature to project to EPSG:900913; (see results in Firebug console)
			<br>Click 'AreasAndLengths' or 'Lengths' to calculate lengths and areas of a feature; dbl-click an existing feature to calculate lengths and areas;(see results in Firebug console)
			<br>Click 'LabelPoints' to label point in polygon; dbl-click an existing polygon feature to label points;
			<br>For 'MultiPolygon LabelPoints' to label point in multiple polygons, first select muliple polygons on map and click 'MultiPolygon LabelPoints' to label points;
			<br>For 'Relation' first select any two existing features on map and click button 'Relation' to calculate if they are in INTERSECT relation; (see results in Firebug console)
			<br>Click "Clean up" to clean up identify results.			
		</p>
		<div id="map" style="width:1024px;height:512px;margin-top:5px;margin-left:5px;background-color:#ffffff"></div>
		<!--
		<input id="toggle_mode_btn" type="button" value="Select Mode (click to toggle)" onclick="toggleMode();" />		
		<input id="add_features_btn" type="button" value="Add Test Features" onclick="addTestFeatures();"/>
		-->
		<input id="clean_btn" type="button" value="Clean up" onclick="cleanup();"/>		
		<input id="buffer_btn" type="button" value="Buffer" onclick="doBuffer();"/>
		<input id="simplify_btn" type="button" value="Simplify" onclick="doSimplify();"/>
		<input id="project_btn" type="button" value="Project" onclick="doProject();"/>
		<input id="relation_btn" type="button" value="Relation" onclick="doRelation();"/>
		<br>
		<input id="lengths_btn" type="button" value="Lengths" onclick="doLengths();"/>
		<input id="areasAndLengths_btn" type="button" value="AreasAndLengths" onclick="doAreasAndLengths();"/>
		<input id="labelPoints_btn" type="button" value="LabelPoints" onclick="doLabelPoints();"/>
		<input id="labelPoints_btn2" type="button" value="MultiPolygon LabelPoints" onclick="doLabelPointsOnMultiPolygons();"/>
    </body>
</html>
